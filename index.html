<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="GPULite.com - Premium domain for GPU acceleration, AI, and computational simulations. Investment opportunity: $500,000.">
  <meta name="keywords" content="GPU, AI, simulations, particles, liquid, gravity, flocking, neural network, matrix, mandelbrot, pathfinding, FFT, clustering, domain investment">
  
  <!-- Enhanced Security Headers -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; img-src 'self' data:; font-src 'self' https://fonts.gstatic.com; connect-src 'self'; frame-src 'none'; object-src 'none';">
  
  <!-- Title -->
  <title>GPULite</title>

  <!-- Load p5.js from cdnjs with SRI -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js" 
          integrity="sha512-bcfltY+lNLlNxz38yBBm/HLaUB1gTV6I0e+fahbF9pS6roIdzUytozWdnFV8ZnM6cSAG5EbmO0ag0a/fLZSG4Q==" 
          crossorigin="anonymous" 
          referrerpolicy="no-referrer"></script>
</head>
<body>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=MS+Serif:wght@400;700&display=swap');

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'MS Serif', sans-serif;
      background: #3a6ea5;
      color: #000;
      font-size: 11px;
      min-height: 100vh;
      -webkit-tap-highlight-color: transparent;
    }

    .desktop {
      min-height: 100vh;
      padding: 10px;
      background: linear-gradient(135deg, #245c89 0%, #3a6ea5 50%, #7db9e8 100%);
      position: relative;
    }

    .window {
      background: #ece9d8;
      border: 1px solid #0054e3;
      box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
      max-width: 800px;
      margin: 0 auto;
      position: relative;
      animation: windowFadeIn 0.5s ease-in;
    }

    @keyframes windowFadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .titlebar {
      background: linear-gradient(to bottom, #0997ff 0%, #0053ee 4%, #0054e3 6%, #0054e3 94%, #003d9c 96%, #003d9c 100%);
      color: white;
      padding: 3px 6px;
      font-size: 11px;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 20px;
    }

    .titlebar-text {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .window-icon {
      width: 16px;
      height: 16px;
      background: #fff;
      border: 1px inset #c0c0c0;
      display: inline-block;
    }

    .window-controls {
      display: flex;
      gap: 2px;
    }

    .window-controls button {
      width: 16px;
      height: 14px;
      border: 1px outset #c0c0c0;
      background: #c0c0c0;
      font-size: 8px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      touch-action: manipulation;
    }

    .window-controls button:hover {
      background: #d4d0c8;
    }

    .window-controls button:active {
      border: 1px inset #c0c0c0;
    }

    .content-area {
      padding: 12px;
    }

    .section {
      background: #ece9d8;
      border: 1px inset #c0c0c0;
      margin: 8px 0;
      padding: 10px;
      animation: sectionFadeIn 0.3s ease-in;
    }

    @keyframes sectionFadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .section-header {
      font-weight: bold;
      font-size: 11px;
      color: #000080;
      margin-bottom: 6px;
      padding-bottom: 2px;
      border-bottom: 1px solid #c0c0c0;
    }

    .demo-area {
      background: #fff;
      border: 2px inset #c0c0c0;
      margin: 8px 0;
      padding: 8px;
    }

    .demo-canvas {
      border: 1px solid #808080;
      display: block;
      margin: 8px auto;
      background: #000;
      width: 100%;
      max-width: 400px;
      height: 200px;
    }

    .demo-controls {
      text-align: center;
      margin: 6px 0;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      justify-content: center;
    }

    .demo-status {
      font-size: 10px;
      color: #666;
      text-align: center;
      margin: 4px 0;
    }

    .button {
      background: #ece9d8;
      border: 1px outset #c0c0c0;
      padding: 4px 10px;
      font-family: 'MS Serif', sans-serif;
      font-size: 11px;
      cursor: pointer;
      color: #000;
      display: inline-block;
      text-decoration: none;
      margin: 2px;
      touch-action: manipulation;
      transition: background 0.2s;
    }

    .button:hover {
      background: #d6d3ce;
    }

    .button:active {
      border: 1px inset #c0c0c0;
      background: #d6d3ce;
    }

    .control-group {
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 10px;
    }

    .control-group label {
      color: #000;
    }

    .control-group input[type="range"],
    .control-group input[type="number"],
    .control-group select {
      width: 60px;
      font-size: 10px;
      padding: 2px;
      border: 1px inset #c0c0c0;
      background: #fff;
      touch-action: manipulation;
    }

    .control-group input[type="checkbox"] {
      width: 16px;
      height: 16px;
      border: 1px inset #c0c0c0;
      background: #fff;
    }

    .matrix-output {
      font-family: 'Courier New', monospace;
      font-size: 9px;
      background: #000;
      color: #00ff00;
      padding: 8px;
      height: 120px;
      overflow: auto;
      border: 1px inset #c0c0c0;
      white-space: pre;
    }

    .price-box {
      background: #ffffff;
      border: 2px inset #c0c0c0;
      padding: 16px;
      text-align: center;
      margin: 12px 0;
      animation: priceBoxPulse 2s infinite;
    }

    @keyframes priceBoxPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.02); }
    }

    .price-amount {
      font-size: 24px;
      font-weight: bold;
      color: #000080;
      margin-bottom: 6px;
    }

    .price-subtitle {
      font-size: 10px;
      color: #666;
      text-transform: uppercase;
    }

    .contact-info {
      background: #f0f0f0;
      border: 1px inset #c0c0c0;
      padding: 10px;
      margin: 12px 0;
    }

    .status-bar {
      background: #ece9d8;
      border-top: 1px solid #c0c0c0;
      padding: 4px 6px;
      font-size: 10px;
      color: #666;
      display: flex;
      justify-content: space-between;
    }

    .taskbar {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 28px;
      background: #ece9d8;
      border-top: 1px solid #dfddcd;
      display: flex;
      align-items: center;
      padding: 0 4px;
      z-index: 1000;
    }

    .start-button {
      background: #ece9d8;
      border: 1px outset #c0c0c0;
      padding: 0 8px;
      font-size: 11px;
      font-weight: bold;
      cursor: pointer;
      height: 22px;
      display: flex;
      align-items: center;
      color: #000;
      touch-action: manipulation;
    }

    .start-button:hover {
      background: #d6d3ce;
    }

    .start-button:active {
      border: 1px inset #c0c0c0;
    }

    .taskbar-clock {
      margin-left: auto;
      border: 1px inset #c0c0c0;
      padding: 2px 8px;
      font-size: 10px;
      background: #ece9d8;
    }

    @media (max-width: 600px) {
      .desktop {
        padding: 8px;
      }
      .window {
        margin: 0 4px;
      }
      .demo-canvas {
        height: 150px;
        max-width: calc(100vw - 24px);
      }
      .section-header {
        font-size: 10px;
      }
      .demo-controls {
        gap: 4px;
      }
      .button,
      .control-group label,
      .control-group input,
      .control-group select {
        font-size: 9px;
        padding: 2px 6px;
      }
      .control-group input[type="range"],
      .control-group input[type="number"],
      .control-group select {
        width: 50px;
      }
      .control-group input[type="checkbox"] {
        width: 14px;
        height: 14px;
      }
      .price-amount {
        font-size: 18px;
      }
      .price-subtitle {
        font-size: 9px;
      }
      .content-area {
        padding: 8px;
      }
      .section {
        padding: 8px;
        margin: 6px 0;
      }
      .matrix-output {
        height: 100px;
      }
    }
  </style>

  <div class="desktop">
    <div class="window">
      <div class="titlebar">
        <div class="titlebar-text">
          <div class="window-icon"></div>
          gpulite.com - Advanced Computational Simulations
        </div>
        <div class="window-controls">
          <button>_</button>
          <button>□</button>
          <button>×</button>
        </div>
      </div>

      <div class="content-area">
        <div class="price-box">
          <div class="price-amount">Make an Offer!</div>
          <div class="price-subtitle">Domain for GPU & AI Innovation</div>
        </div>

        <div class="section">
          <div class="section-header">Select Simulation</div>
          <div class="demo-controls">
            <button class="button" data-sim="particle">Particle Simulation</button>
            <button class="button" data-sim="liquid">Liquid Simulation</button>
            <button class="button" data-sim="gravity">Gravity Simulation</button>
            <button class="button" data-sim="flocking">Flocking Simulation</button>
            <button class="button" data-sim="neural">Neural Network</button>
            <button class="button" data-sim="mandelbrot">Mandelbrot Set</button>
            <button class="button" data-sim="pathfinding">A* Pathfinding</button>
            <button class="button" data-sim="fft">FFT Visualization</button>
            <button class="button" data-sim="clustering">K-Means Clustering</button>
            <button class="button" data-sim="matrix">Matrix Operations</button>
          </div>
        </div>

        <div class="section">
          <div class="section-header">Simulation Area</div>
          <div class="demo-area">
            <div id="sketch-holder" class="demo-canvas"></div>
            <div class="demo-controls" id="simControls"></div>
            <div class="demo-status" id="simStatus">Ready - Select a simulation</div>
          </div>
        </div>

        <div class="section">
          <div class="section-header">Matrix Operations Output</div>
          <div class="matrix-output" id="matrixOutput">System Ready.
GPU: Compatible
CUDA Cores: Available
Memory: Allocated
Status: Standby</div>
          <div class="demo-controls">
            <button class="button" id="executeMatrix">Execute Operations</button>
          </div>
        </div>

        <div class="contact-info">
          <div class="section-header">Contact for Domain Purchase</div>
          <p><strong>Email:</strong> tifelabs@gmail.com</p>
          <p><strong>Subject:</strong> gpulite.com Domain Inquiry</p>
          <div style="margin-top: 10px;">
            <a href="mailto:tifelabs@gmail.com?subject=GPULite.com Domain Inquiry" class="button button-primary">Send Inquiry</a>
          </div>
        </div>
      </div>

      <div class="status-bar">
        <span>Ready</span>
        <span id="statusTime">12:00 PM</span>
      </div>
    </div>
  </div>

  <div class="taskbar">
    <div class="start-button">Start</div>
    <div class="taskbar-clock" id="taskbarClock">12:00 PM</div>
  </div>

  <script>
    'use strict';
    
    // Secure configuration with input validation
    const SimulationManager = {
      currentSketch: null,
      activeIntervals: new Set(),
      
      // Secure configuration with bounds checking
      config: {
        particle: { 
          count: { value: 50, min: 10, max: 200 }, 
          speed: { value: 2, min: 0.5, max: 5 }, 
          size: { value: 5, min: 2, max: 10 } 
        },
        liquid: { 
          amplitude: { value: 50, min: 10, max: 100 }, 
          frequency: { value: 0.01, min: 0.005, max: 0.05 }, 
          opacity: { value: 150, min: 50, max: 255 } 
        },
        gravity: { 
          count: { value: 5, min: 2, max: 10 }, 
          G: { value: 0.4, min: 0.1, max: 1 }, 
          mass: { value: 20, min: 10, max: 50 } 
        },
        flocking: { 
          count: { value: 50, min: 10, max: 100 }, 
          align: { value: 0.05, min: 0.01, max: 0.1 }, 
          cohesion: { value: 0.02, min: 0.01, max: 0.1 }, 
          separation: { value: 0.05, min: 0.01, max: 0.1 } 
        },
        neural: { 
          layers: { value: [4, 6, 4, 2], options: [[4,6,4,2], [3,5,3], [5,8,5,3]] }, 
          speed: { value: 0.1, min: 0.05, max: 0.5 } 
        },
        mandelbrot: { 
          maxIter: { value: 100, min: 50, max: 500 }, 
          zoom: { value: 1, min: 0.5, max: 10 }, 
          xOffset: { value: 0, min: -2, max: 2 }, 
          yOffset: { value: 0, min: -2, max: 2 } 
        },
        pathfinding: { 
          gridSize: { value: 20, min: 10, max: 50 }, 
          obstacles: { value: 0.2, min: 0, max: 0.5 }, 
          speed: { value: 1, min: 0.5, max: 5 } 
        },
        fft: { 
          samples: { value: 256, options: [64, 128, 256] }, 
          frequency: { value: 0.1, min: 0.05, max: 0.5 }, 
          amplitude: { value: 50, min: 20, max: 100 } 
        },
        clustering: { 
          points: { value: 100, min: 50, max: 200 }, 
          clusters: { value: 3, min: 2, max: 10 }, 
          speed: { value: 1, min: 0.5, max: 5 } 
        }
      },

      // Secure input validation and sanitization
      validateInput(value, config) {
        if (typeof value === 'string') {
          value = value.replace(/[^0-9.-]/g, ''); // Remove non-numeric characters
        }
        
        const numValue = parseFloat(value);
        if (isNaN(numValue)) return config.value;
        
        if (config.min !== undefined && numValue < config.min) return config.min;
        if (config.max !== undefined && numValue > config.max) return config.max;
        
        return numValue;
      },

      validateIntInput(value, config) {
        const validated = this.validateInput(value, config);
        return Math.floor(validated);
      },

      // Secure DOM manipulation
      setInnerHTML(elementId, content) {
        const element = document.getElementById(elementId);
        if (!element) return;
        
        // Basic XSS prevention - only allow specific HTML tags
        const allowedTags = /<\/?(?:div|span|label|input|select|option|button)[^>]*>/gi;
        const sanitized = content.replace(/<(?!\/?(?:div|span|label|input|select|option|button)\b)[^>]*>/gi, '');
        element.innerHTML = sanitized;
      },

      setTextContent(elementId, content) {
        const element = document.getElementById(elementId);
        if (!element) return;
        element.textContent = String(content);
      },

      // Clean up resources
      cleanup() {
        if (this.currentSketch) {
          this.currentSketch.remove();
          this.currentSketch = null;
        }
        
        // Clear all intervals
        this.activeIntervals.forEach(interval => clearInterval(interval));
        this.activeIntervals.clear();
      },

      updateStatus(message, computeTime) {
        const sanitizedMessage = String(message).replace(/[<>]/g, '');
        const sanitizedTime = isNaN(computeTime) ? 0 : Math.max(0, parseFloat(computeTime));
        this.setTextContent('simStatus', `${sanitizedMessage} | Compute: ${sanitizedTime.toFixed(2)}ms`);
      },

      // Secure simulation setup functions
      setupParticleSimulation() {
        this.cleanup();
        const config = this.config.particle;
        
        this.setInnerHTML('simControls', `
          <div class="control-group">
            <label>Particles:</label>
            <input type="number" id="particleCount" value="${config.count.value}" min="${config.count.min}" max="${config.count.max}">
          </div>
          <div class="control-group">
            <label>Speed:</label>
            <input type="range" id="particleSpeed" min="${config.speed.min}" max="${config.speed.max}" step="0.1" value="${config.speed.value}">
          </div>
          <div class="control-group">
            <label>Size:</label>
            <input type="range" id="particleSize" min="${config.size.min}" max="${config.size.max}" step="0.5" value="${config.size.value}">
          </div>
        `);

        this.currentSketch = new p5((p) => {
          let particles = [];

          p.setup = function() {
            const canvas = p.createCanvas(
              p.windowWidth > 600 ? 400 : Math.min(p.windowWidth - 24, 400), 
              p.windowWidth > 600 ? 200 : 150
            );
            canvas.parent('sketch-holder');
            createParticles();
          };

          function createParticles() {
            particles = [];
            const countInput = document.getElementById('particleCount');
            const count = countInput ? SimulationManager.validateIntInput(countInput.value, config.count) : config.count.value;
            
            for (let i = 0; i < count; i++) {
              particles.push({
                pos: p.createVector(p.random(p.width), p.random(p.height)),
                vel: p.createVector(p.random(-1, 1) * config.speed.value, p.random(-1, 1) * config.speed.value),
                col: [p.random(255), p.random(255), p.random(255)]
              });
            }
          }

          p.draw = function() {
            const startTime = performance.now();
            p.background(0);
            
            const speedInput = document.getElementById('particleSpeed');
            const sizeInput = document.getElementById('particleSize');
            
            const speed = speedInput ? SimulationManager.validateInput(speedInput.value, config.speed) : config.speed.value;
            const size = sizeInput ? SimulationManager.validateInput(sizeInput.value, config.size) : config.size.value;
            
            particles.forEach(particle => {
              particle.pos.add(p5.Vector.mult(particle.vel, speed));
              if (particle.pos.x < 0 || particle.pos.x > p.width) particle.vel.x *= -1;
              if (particle.pos.y < 0 || particle.pos.y > p.height) particle.vel.y *= -1;
              p.fill(particle.col);
              p.noStroke();
              p.circle(particle.pos.x, particle.pos.y, size);
            });
            
            const computeTime = performance.now() - startTime;
            SimulationManager.updateStatus(
              `Running - ${particles.length} particles | Speed: ${speed.toFixed(1)} | Size: ${size.toFixed(1)} | FPS: ${Math.round(p.frameRate())}`, 
              computeTime
            );
          };

          const countInput = document.getElementById('particleCount');
          if (countInput) {
            countInput.addEventListener('change', createParticles);
          }

          p.windowResized = function() {
            p.resizeCanvas(
              p.windowWidth > 600 ? 400 : Math.min(p.windowWidth - 24, 400), 
              p.windowWidth > 600 ? 200 : 150
            );
          };
        });
      },

      // Secure matrix operations
      runMatrixOperations() {
        this.cleanup();
        
        this.setInnerHTML('simControls', `
          <div class="control-group">
            <label>Matrix Size:</label>
            <select id="matrixSize">
              <option value="4">4x4</option>
              <option value="8">8x8</option>
              <option value="16">16x16</option>
            </select>
          </div>
          <div class="control-group">
            <label>Iterations:</label>
            <input type="number" id="matrixIterations" value="5" min="1" max="10">
          </div>
        `);

        const sizeSelect = document.getElementById('matrixSize');
        const iterationInput = document.getElementById('matrixIterations');
        let iteration = 0;

        const interval = setInterval(() => {
          const startTime = performance.now();
          const size = sizeSelect ? parseInt(sizeSelect.value) || 4 : 4;
          const maxIterations = iterationInput ? this.validateIntInput(iterationInput.value, {value: 5, min: 1, max: 10}) : 5;
          
          let text = `Matrix Operation ${iteration + 1} (${size}x${size})\n`;
          text += `Threads: ${Math.floor(Math.random() * 1024 * size / 4) + 256}\n`;
          text += `FLOPS: ${(Math.random() * size * 2 + 5).toFixed(2)} TFLOPS\n\n`;
          
          for (let i = 0; i < size; i++) {
            for (let j = 0; j < size; j++) {
              text += `${(Math.random() * 2 - 1).toFixed(2)} `;
            }
            text += '\n';
          }
          text += '\nOperation Complete.';
          
          this.setTextContent('matrixOutput', text);

          iteration++;
          if (iteration >= maxIterations) {
            clearInterval(interval);
            this.activeIntervals.delete(interval);
            this.setTextContent('matrixOutput', text + '\n\nAll operations finished.');
          }
          
          const computeTime = performance.now() - startTime;
          this.updateStatus(`Running - Matrix operations (${maxIterations} iterations)`, computeTime);
        }, 800);
        
        this.activeIntervals.add(interval);
      }
    };

    // Secure event handling
    function setupEventListeners() {
      // Simulation buttons with data attributes (more secure than onclick)
      document.querySelectorAll('[data-sim]').forEach(button => {
        button.addEventListener('click', function(e) {
          e.preventDefault();
          const simType = this.getAttribute('data-sim');
          
          switch(simType) {
            case 'particle':
              SimulationManager.setupParticleSimulation();
              break;
            case 'matrix':
              SimulationManager.runMatrixOperations();
              break;
            // Add other simulation cases here
            default:
              SimulationManager.updateStatus('Simulation not implemented yet', 0);
          }
        });
      });

      // Matrix execution button
      const executeButton = document.getElementById('executeMatrix');
      if (executeButton) {
        executeButton.addEventListener('click', function(e) {
          e.preventDefault();
          SimulationManager.runMatrixOperations();
        });
      }
    }

    // Secure time update function
    function updateTime() {
      try {
        const now = new Date();
        const timeString = now.toLocaleTimeString([], { 
          hour: '2-digit', 
          minute: '2-digit',
          hour12: true 
        });
        
        SimulationManager.setTextContent('taskbarClock', timeString);
        SimulationManager.setTextContent('statusTime', timeString);
      } catch (error) {
        console.error('Time update error:', error);
      }
    }

    // Initialize application securely
    document.addEventListener('DOMContentLoaded', function() {
      setupEventListeners();
      setInterval(updateTime, 1000);
      updateTime();
      
      // Initialize with particle simulation
      SimulationManager.setupParticleSimulation();
    });

    // Cleanup on page unload
    window.addEventListener('beforeunload', function() {
      SimulationManager.cleanup();
    });
  </script>
</body>
</html>